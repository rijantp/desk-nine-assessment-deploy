import{a as H}from"./chunk-HFHOUPCO.js";import{a as O,b as g,c as D,d as V,f as R,g as B,h as j,i as z,k as A}from"./chunk-XYT62BKB.js";import{Aa as s,Ba as r,Ca as n,Da as u,Ea as x,Fa as S,Ha as b,Ia as f,Ja as U,Ka as m,Ma as v,Qa as h,R as L,Ra as y,Sa as N,T as _,Ta as G,Va as I,ha as F,ib as P,jb as q,kb as T,lb as k,nb as C,pa as o,sa as M,xa as a}from"./chunk-ZGHIUTVW.js";function $(e){let t=e.value,l=["image/png","image/jpeg","image/jpg"];if(t){if(t.size>5e5&&t.size<1e6&&l.includes(t.type))return null}else return null;return{invalidUpload:!0}}function W(e,t){if(e&1&&(x(0),u(1,"img",23),S()),e&2){let l=f();o(1),a("src",l.userForm.value.imageUrl,F)}}function Y(e,t){e&1&&(r(0,"div"),m(1," Name is required! "),n())}function Z(e,t){if(e&1&&(r(0,"div",24),s(1,Y,2,0,"div",25),n()),e&2){let l=f();o(1),a("ngIf",l.formGroup.name.hasError("required"))}}function ee(e,t){e&1&&(r(0,"div"),m(1," Email is required! "),n())}function te(e,t){e&1&&(r(0,"div"),m(1,"invalid format"),n())}function ie(e,t){if(e&1&&(r(0,"div",24),s(1,ee,2,0,"div",25)(2,te,2,0,"div",25),n()),e&2){let l=f();o(1),a("ngIf",l.formGroup.email.hasError("required")),o(1),a("ngIf",l.formGroup.email.hasError("email"))}}function ne(e,t){e&1&&(r(0,"div"),m(1," phone number is required! "),n())}function re(e,t){e&1&&(r(0,"div"),m(1," invalid format "),n())}function oe(e,t){if(e&1&&(r(0,"div",24),s(1,ne,2,0,"div",25)(2,re,2,0,"div",25),n()),e&2){let l=f();o(1),a("ngIf",l.formGroup.phoneNumber.hasError("required")),o(1),a("ngIf",l.formGroup.phoneNumber.hasError("pattern"))}}function ae(e,t){e&1&&(r(0,"div"),m(1," profile photo is required! "),n())}function me(e,t){e&1&&(r(0,"div"),m(1," invalid format, image must be between 500kb and 1mb "),n())}function le(e,t){if(e&1&&(r(0,"div",24),s(1,ae,2,0,"div",25)(2,me,2,0,"div",25),n()),e&2){let l=f();o(1),a("ngIf",l.formGroup.image.hasError("required")),o(1),a("ngIf",l.formGroup.image.hasError("invalidUpload"))}}function pe(e,t){e&1&&u(0,"div",26)}var w=(e,t)=>({"is-invalid":e,"is-valid":t}),J=(()=>{let t=class t{constructor(){this.fb=L(z),this.formSubmitEvent=new M,this.userForm=this.fb.nonNullable.group({name:["",[g.required]],email:["",[g.required,g.email]],phoneNumber:["",[g.required,g.pattern(H)]],dummy:[],image:[void 0,[g.required,$]],imageUrl:[""]})}get formGroup(){return this.userForm.controls}onImageUpload(d){let p=d.target.files,i=p!==null?p[0]:null;this.userForm.patchValue({image:i}),this.userForm.controls.image.updateValueAndValidity();let c=new FileReader;c.onload=()=>{let E=c.result;this.userForm.patchValue({imageUrl:E}),this.userForm.controls.imageUrl.updateValueAndValidity()},c.readAsDataURL(i)}onSubmit(){this.formSubmitEvent.emit(this.userForm.value),this.userForm.reset()}onCancel(){this.userForm.reset()}};t.\u0275fac=function(p){return new(p||t)},t.\u0275cmp=_({type:t,selectors:[["app-user-form"]],outputs:{formSubmitEvent:"formSubmitEvent"},standalone:!0,features:[h],decls:44,vars:29,consts:[[1,"container","mt-5"],[1,"container"],[1,"row"],[1,"card","col-12","col-md-6"],[4,"ngIf","ngIfElse"],[1,"card-body"],[1,"card-text"],["novalidate","",1,"needs-validation","w-100",3,"formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["formControlName","name","type","text","id","name","aria-describedby","userName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email",1,"form-control",3,"ngClass"],["for","phoneNumber",1,"form-label"],["formControlName","phoneNumber","type","text","id","phoneNumber","aria-describedby","phoneNumberHelpBlock",1,"form-control",3,"ngClass"],["id","phoneNumberHelpBlock",1,"form-text"],["for","image",1,"form-label"],["type","file","id","image","formControlName","dummy",1,"form-control",3,"ngClass","change"],[1,"form-text"],["type","button",1,"btn","btn-primary","me-3",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["blank",""],["alt","profile",1,"card-img-top",3,"src"],[1,"invalid-feedback"],[4,"ngIf"],[1,"bg-secondary-subtle","rounded","blank-frame"]],template:function(p,i){if(p&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,W,2,1,"ng-container",4),r(5,"div",5)(6,"p",6),m(7),N(8,"uppercase"),n(),r(9,"p",6),m(10),n(),r(11,"p",6),m(12),n()()()()(),r(13,"form",7)(14,"div",8)(15,"label",9),m(16,"Name"),n(),u(17,"input",10),s(18,Z,2,1,"div",11),n(),r(19,"div",8)(20,"label",12),m(21,"Email address"),n(),u(22,"input",13),s(23,ie,3,2,"div",11),n(),r(24,"div",8)(25,"label",14),m(26,"Phone number"),n(),u(27,"input",15),r(28,"div",16),m(29,"must be 10 digit"),n(),s(30,oe,3,2,"div",11),n(),r(31,"div",8)(32,"label",17),m(33,"image"),n(),r(34,"input",18),b("change",function(E){return i.onImageUpload(E)}),n(),r(35,"div",19),m(36,"must be between 500kb and 1mb"),n(),s(37,le,3,2,"div",11),n(),r(38,"button",20),b("click",function(){return i.onCancel()}),m(39," Cancel "),n(),r(40,"button",21),b("click",function(){return i.onSubmit()}),m(41," Submit "),n()()(),s(42,pe,1,0,"ng-template",null,22,I)),p&2){let c=U(43);o(4),a("ngIf",i.userForm.value.imageUrl&&i.formGroup.image.valid)("ngIfElse",c),o(3),v("Name : ",G(8,15,i.userForm.value.name),""),o(3),v("Email : ",i.userForm.value.email,""),o(2),v("Phone : ",i.userForm.value.phoneNumber,""),o(1),a("formGroup",i.userForm),o(4),a("ngClass",y(17,w,i.formGroup.name.touched&&i.formGroup.name.errors,i.formGroup.name.valid)),o(1),a("ngIf",i.formGroup.name.touched&&i.formGroup.name.errors),o(4),a("ngClass",y(20,w,i.formGroup.email.touched&&i.formGroup.email.errors,i.formGroup.email.valid)),o(1),a("ngIf",i.formGroup.email.touched&&i.formGroup.email.errors),o(4),a("ngClass",y(23,w,i.formGroup.phoneNumber.touched&&i.formGroup.phoneNumber.errors,i.formGroup.phoneNumber.valid)),o(3),a("ngIf",i.formGroup.phoneNumber.touched&&i.formGroup.phoneNumber.errors),o(4),a("ngClass",y(26,w,i.formGroup.dummy.touched&&i.formGroup.image.errors,i.formGroup.image.valid)),o(3),a("ngIf",i.formGroup.dummy.touched&&i.formGroup.image.errors),o(3),a("disabled",!i.userForm.valid)}},dependencies:[C,P,T,k,A,R,O,D,V,B,j],styles:["img[_ngcontent-%COMP%]{width:120px;aspect-ratio:1}.card[_ngcontent-%COMP%]{width:minmax(3rem,fit-content)!important}.blank-frame[_ngcontent-%COMP%]{width:120px;aspect-ratio:1}"]});let e=t;return e})();function se(e,t){if(e&1&&(x(0),u(1,"img",10),S()),e&2){let l=f().$implicit;o(1),a("src",l.imageUrl,F)}}function de(e,t){if(e&1&&(r(0,"div",6),s(1,se,2,1,"ng-container",7),r(2,"div",8)(3,"p",9),m(4),N(5,"uppercase"),n(),r(6,"p",9),m(7),n(),r(8,"p",9),m(9),n()()()),e&2){let l=t.$implicit;f();let d=U(8);o(1),a("ngIf",l.imageUrl)("ngIfElse",d),o(3),v("Name : ",G(5,5,l.name),""),o(3),v("Email : ",l.email,""),o(2),v("Phone : ",l.phoneNumber,"")}}function ue(e,t){e&1&&u(0,"div",11)}var K=(()=>{let t=class t{constructor(){this.usersList=[]}};t.\u0275fac=function(p){return new(p||t)},t.\u0275cmp=_({type:t,selectors:[["app-user-list"]],inputs:{usersList:"usersList"},standalone:!0,features:[h],decls:9,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-12","text-center"],[1,"row","gap-3","justify-content-center"],["class","card col-12 col-md-3",4,"ngFor","ngForOf"],["blank",""],[1,"card","col-12","col-md-3"],[4,"ngIf","ngIfElse"],[1,"card-body"],[1,"card-text"],["alt","profile",1,"card-img-top",3,"src"],[1,"bg-secondary-subtle","rounded","blank-frame"]],template:function(p,i){p&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),m(4,"Users List"),n()()(),r(5,"div",3),s(6,de,10,7,"div",4),n()(),s(7,ue,1,0,"ng-template",null,5,I)),p&2&&(o(6),a("ngForOf",i.usersList))},dependencies:[C,q,T,k],styles:["img[_ngcontent-%COMP%], .blank-frame[_ngcontent-%COMP%]{width:120px;aspect-ratio:1}"]});let e=t;return e})();var Ie=(()=>{let t=class t{constructor(){this.usersList=[]}addUser(d){this.usersList=[d,...this.usersList]}};t.\u0275fac=function(p){return new(p||t)},t.\u0275cmp=_({type:t,selectors:[["app-users"]],standalone:!0,features:[h],decls:4,vars:1,consts:[[1,"container","mt-5"],[3,"formSubmitEvent"],[3,"usersList"]],template:function(p,i){p&1&&(r(0,"div",0)(1,"app-user-form",1),b("formSubmitEvent",function(E){return i.addUser(E)}),n(),u(2,"hr")(3,"app-user-list",2),n()),p&2&&(o(3),a("usersList",i.usersList))},dependencies:[C,J,K]});let e=t;return e})();export{Ie as UsersComponent};
